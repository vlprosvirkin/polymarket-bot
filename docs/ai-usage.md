# AI –≤ —Ç–æ—Ä–≥–æ–≤–æ–π —Å–∏—Å—Ç–µ–º–µ - –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ

## üéØ –ß—Ç–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

**AI Strategy** - —Å—Ç—Ä–∞—Ç–µ–≥–∏—è, –∫–æ—Ç–æ—Ä–∞—è –∏—Å–ø–æ–ª—å–∑—É–µ—Ç AI –¥–ª—è –≤—ã–±–æ—Ä–∞ —Ä—ã–Ω–∫–æ–≤ –∏ –ø—Ä–∏–Ω—è—Ç–∏—è —Ä–µ—à–µ–Ω–∏–π.

### –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:
- `AIStrategy` - —Å—Ç—Ä–∞—Ç–µ–≥–∏—è —Å AI —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π
- `AIMarketFilter` - AI –∞–Ω–∞–ª–∏–∑ —Ä—ã–Ω–∫–æ–≤ (–≤–¥–æ—Ö–Ω–æ–≤–ª–µ–Ω Poly-Trader)
- `SerpAPIService` - –ø–æ–ª—É—á–µ–Ω–∏–µ –Ω–æ–≤–æ—Å—Ç–µ–π –¥–ª—è AI –∞–Ω–∞–ª–∏–∑–∞
- `TavilyService` - –≥–ª—É–±–æ–∫–∏–π –∞–Ω–∞–ª–∏–∑ –¥–ª—è –≤–∞–∂–Ω—ã—Ö —Ä—ã–Ω–∫–æ–≤

---

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –ù–∞—Å—Ç—Ä–æ–π–∫–∞

```bash
# –í .env –Ω—É–∂–Ω—ã:
OPENAI_API_KEY=...        # –ò–ª–∏ GEMINI_API_KEY
SERP_API_KEY=...          # –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –¥–ª—è –Ω–æ–≤–æ—Å—Ç–µ–π (–±—ã—Å—Ç—Ä—ã–π –ø–æ–∏—Å–∫)
TAVILY_API_KEY=...        # –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –¥–ª—è –≥–ª—É–±–æ–∫–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞ —Ç–æ–ø-—Ä—ã–Ω–∫–æ–≤
```

### 2. –ó–∞–ø—É—Å–∫

```bash
npm run start:ai
```

---

## üìä –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç

### –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è —Ä—ã–Ω–∫–æ–≤:

```
1. getSamplingMarkets()        ‚Üí ~1000 —Ä—ã–Ω–∫–æ–≤
2. –ë–∞–∑–æ–≤–∞—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è          ‚Üí ~100 —Ä—ã–Ω–∫–æ–≤ (–∂–µ—Å—Ç–∫–∏–µ –ø—Ä–∞–≤–∏–ª–∞)
3. AI –∞–Ω–∞–ª–∏–∑ –∫–∞–∂–¥–æ–≥–æ —Ä—ã–Ω–∫–∞:
   ‚îú‚îÄ> –ü–æ–∏—Å–∫ –Ω–æ–≤–æ—Å—Ç–µ–π (SerpAPI) [–µ—Å–ª–∏ SERP_API_KEY –µ—Å—Ç—å]
   ‚îú‚îÄ> –ì–ª—É–±–æ–∫–∏–π –∞–Ω–∞–ª–∏–∑ (Tavily) [–µ—Å–ª–∏ TAVILY_API_KEY –µ—Å—Ç—å –∏ —Ä—ã–Ω–æ–∫ —Ç–æ–ø]
   ‚îú‚îÄ> AI –∞–Ω–∞–ª–∏–∑ —Å –¥–∞–Ω–Ω—ã–º–∏ + –Ω–æ–≤–æ—Å—Ç—è–º–∏ + –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º
   ‚îî‚îÄ> –†–µ—à–µ–Ω–∏–µ: shouldTrade?
4. –†–µ–∑—É–ª—å—Ç–∞—Ç                  ‚Üí ~5-10 –ª—É—á—à–∏—Ö —Ä—ã–Ω–∫–æ–≤
```

### –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å–∏–≥–Ω–∞–ª–æ–≤:

```
1. AI –∞–Ω–∞–ª–∏–∑ —Ä—ã–Ω–∫–∞             [–µ—Å–ª–∏ useAIForSignals]
2. –ü—Ä–æ–≤–µ—Ä–∫–∞ shouldTrade –∏ riskLevel
3. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ recommendedAction –æ—Ç AI
4. –†–∞—Å—á–µ—Ç —Ä–∞–∑–º–µ—Ä–∞ –Ω–∞ –æ—Å–Ω–æ–≤–µ attractiveness
5. –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å–∏–≥–Ω–∞–ª–æ–≤
```

---

## ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

```typescript
const config: AIStrategyConfig = {
    // –ë–∞–∑–æ–≤—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
    orderSize: 100,
    maxPosition: 1000,
    profitThreshold: 0.95,
    stopLoss: 0.75,
    
    // –§–∏–ª—å—Ç—Ä—ã
    minVolume: 5000,
    maxMarkets: 5,
    excludeNegRisk: true,
    minPrice: 0.70,
    maxPrice: 0.99,
    
    // AI –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
    useAI: true,                          // ‚úÖ –í–∫–ª—é—á–∏—Ç—å AI
    useNews: !!process.env.SERP_API_KEY,   // ‚úÖ –ù–æ–≤–æ—Å—Ç–∏ –µ—Å–ª–∏ –∫–ª—é—á –µ—Å—Ç—å
    minAIAttractiveness: 0.65,            // –ú–∏–Ω–∏–º—É–º 65%
    maxAIRisk: 'medium',                  // –ú–∞–∫—Å–∏–º—É–º —Å—Ä–µ–¥–Ω–∏–π —Ä–∏—Å–∫
    useAIForSignals: true,                 // ‚úÖ AI –¥–ª—è —Å–∏–≥–Ω–∞–ª–æ–≤
};
```

---

## üîß –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ –∫–æ–¥–µ

### –ì–æ—Ç–æ–≤—ã–π –±–æ—Ç:

```typescript
// –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ bot-ai.ts
npm run start:ai
```

### –°–æ–∑–¥–∞—Ç—å —Å–≤–æ–π:

```typescript
import { AIStrategy, AIStrategyConfig } from './strategies/AIStrategy';

const strategy = new AIStrategy({
    useAI: true,
    useNews: true,
    minAIAttractiveness: 0.7
});

// –í –±–æ—Ç–µ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ async –º–µ—Ç–æ–¥—ã:
const markets = await strategy.asyncFilterMarkets(allMarkets);
const signals = await strategy.asyncGenerateSignals(market, price);
```

---

## üìà –û—Ç–∫—É–¥–∞ AI –ø–æ–ª—É—á–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ

### –Ø–≤–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (–ø–µ—Ä–µ–¥–∞—é—Ç—Å—è –≤ –ø—Ä–æ–º–ø—Ç):
- `market.question` - –≤–æ–ø—Ä–æ—Å —Ä—ã–Ω–∫–∞
- `market.description` - –æ–ø–∏—Å–∞–Ω–∏–µ
- `market.tokens[].price` - —Ç–µ–∫—É—â–∏–µ —Ü–µ–Ω—ã
- `market.end_date_iso` - –¥–∞—Ç–∞ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è
- `market.category`, `market.tags` - –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ

### –ù–æ–≤–æ—Å—Ç–∏ (–µ—Å–ª–∏ SERP_API_KEY –µ—Å—Ç—å):
- –ü–æ–∏—Å–∫ —á–µ—Ä–µ–∑ SerpAPI –ø–æ –∫–ª—é—á–µ–≤—ã–º —Å–ª–æ–≤–∞–º –∏–∑ –≤–æ–ø—Ä–æ—Å–∞
- –ü–æ—Å–ª–µ–¥–Ω–∏–µ 24 —á–∞—Å–∞
- 5 –Ω–∞–∏–±–æ–ª–µ–µ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã—Ö —Å—Ç–∞—Ç–µ–π

### –ì–ª—É–±–æ–∫–∏–π –∞–Ω–∞–ª–∏–∑ (–µ—Å–ª–∏ TAVILY_API_KEY –µ—Å—Ç—å):
- Tavily –¥–ª—è —Ä—ã–Ω–∫–æ–≤ —Å attractiveness >= 0.75
- –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∏–∑ 10+ –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤
- –ì–æ—Ç–æ–≤—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç –¥–ª—è AI (–º–µ–Ω—å—à–µ –≥–∞–ª–ª—é—Ü–∏–Ω–∞—Ü–∏–π)
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ –∫–ª—é—á–µ–≤–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏

### –í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ –∑–Ω–∞–Ω–∏—è AI:
- –ò—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–µ —Ñ–∞–∫—Ç—ã (–¥–æ –¥–∞—Ç—ã –æ–±—É—á–µ–Ω–∏—è –º–æ–¥–µ–ª–∏)
- –û–±—â–∏–µ –∑–∞–∫–æ–Ω–æ–º–µ—Ä–Ω–æ—Å—Ç–∏ —Ä—ã–Ω–∫–æ–≤
- –ü–æ–Ω–∏–º–∞–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞

### –ß—Ç–æ AI –ù–ï –∑–Ω–∞–µ—Ç –±–µ–∑ –Ω–æ–≤–æ—Å—Ç–µ–π:
- –°–≤–µ–∂–∏–µ —Å–æ–±—ã—Ç–∏—è –ø–æ—Å–ª–µ –¥–∞—Ç—ã –æ–±—É—á–µ–Ω–∏—è
- –¢–µ–∫—É—â–∏–µ –Ω–æ–≤–æ—Å—Ç–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- –ò–∑–º–µ–Ω–µ–Ω–∏—è, –ø—Ä–æ–∏–∑–æ—à–µ–¥—à–∏–µ —Å–µ–≥–æ–¥–Ω—è/–≤—á–µ—Ä–∞

**–†–µ—à–µ–Ω–∏–µ:** 
- SerpAPI –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –ø–æ–∏—Å–∫–∞ –Ω–æ–≤–æ—Å—Ç–µ–π (–≤—Å–µ —Ä—ã–Ω–∫–∏)
- Tavily –¥–ª—è –≥–ª—É–±–æ–∫–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞ –≤–∞–∂–Ω—ã—Ö —Ä—ã–Ω–∫–æ–≤ (—Ç–æ–ø-–∫–∞–Ω–¥–∏–¥–∞—Ç—ã)

---

## üéØ –ü—Ä–∏–º–µ—Ä—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π

### –ö–æ–Ω—Å–µ—Ä–≤–∞—Ç–∏–≤–Ω–∞—è:
```typescript
{
    useAI: true,
    useNews: true,
    minAIAttractiveness: 0.8,    // –¢–æ–ª—å–∫–æ –æ—á–µ–Ω—å –ø—Ä–∏–≤–ª–µ–∫–∞—Ç–µ–ª—å–Ω—ã–µ
    maxAIRisk: 'low',            // –¢–æ–ª—å–∫–æ –Ω–∏–∑–∫–∏–π —Ä–∏—Å–∫
    useAIForSignals: true
}
```

### –ê–≥—Ä–µ—Å—Å–∏–≤–Ω–∞—è:
```typescript
{
    useAI: true,
    useNews: true,
    minAIAttractiveness: 0.5,    // –ë–æ–ª—å—à–µ —Ä—ã–Ω–∫–æ–≤
    maxAIRisk: 'high',          // –ì–æ—Ç–æ–≤—ã –∫ —Ä–∏—Å–∫—É
    useAIForSignals: true
}
```

### –ë–µ–∑ –Ω–æ–≤–æ—Å—Ç–µ–π (–±—ã—Å—Ç—Ä–µ–µ):
```typescript
{
    useAI: true,
    useNews: false,              // –ë–µ–∑ –Ω–æ–≤–æ—Å—Ç–µ–π
    minAIAttractiveness: 0.6,
    maxAIRisk: 'medium',
    useAIForSignals: false      // –°–∏–≥–Ω–∞–ª—ã –±–µ–∑ AI
}
```

---

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

### Async –º–µ—Ç–æ–¥—ã:

AI Strategy —Ç—Ä–µ–±—É–µ—Ç **async –º–µ—Ç–æ–¥–æ–≤**:

```typescript
// ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ
const markets = await strategy.asyncFilterMarkets(allMarkets);
const signals = await strategy.asyncGenerateSignals(market, price);

// ‚ùå –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ (–≤–µ—Ä–Ω–µ—Ç –±–∞–∑–æ–≤—É—é —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—é)
const markets = strategy.filterMarkets(allMarkets);
```

### –í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:

- **–ë–µ–∑ AI**: ~2-5 —Å–µ–∫—É–Ω–¥
- **–° AI** (10 —Ä—ã–Ω–∫–æ–≤): ~30-60 —Å–µ–∫—É–Ω–¥
- **–° AI + –Ω–æ–≤–æ—Å—Ç–∏**: ~40-80 —Å–µ–∫—É–Ω–¥
- **–° AI + –Ω–æ–≤–æ—Å—Ç–∏ + Tavily** (5 —Ç–æ–ø-—Ä—ã–Ω–∫–æ–≤): ~50-100 —Å–µ–∫—É–Ω–¥

### –°—Ç–æ–∏–º–æ—Å—Ç—å:

- **OpenAI**: ~$0.0025-0.01 –∑–∞ 1K —Ç–æ–∫–µ–Ω–æ–≤
- **Gemini**: –î–µ—à–µ–≤–ª–µ
- **SerpAPI**: ~$0.002-0.005 –∑–∞ –∑–∞–ø—Ä–æ—Å
- **Tavily**: ~$0.01-0.02 –∑–∞ –∑–∞–ø—Ä–æ—Å (—Ç–æ–ª—å–∫–æ –¥–ª—è —Ç–æ–ø-—Ä—ã–Ω–∫–æ–≤)

**–î–ª—è 10 —Ä—ã–Ω–∫–æ–≤ (—Å Tavily –¥–ª—è 3 —Ç–æ–ø)**: ~$0.08-0.20 –∑–∞ —Ü–∏–∫–ª

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞

```
src/
  strategies/
    AIStrategy.ts              # AI —Å—Ç—Ä–∞—Ç–µ–≥–∏—è
  bot-ai.ts                    # AI –±–æ—Ç –¥–ª—è –∑–∞–ø—É—Å–∫–∞
  services/
    ai/
      ai-market-filter.ts      # AI —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è —Ä—ã–Ω–∫–æ–≤
      ai-market-scorer.ts      # AI –æ—Ü–µ–Ω–∫–∞ —Ä—ã–Ω–∫–æ–≤ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
    serpapi.service.ts         # –°–µ—Ä–≤–∏—Å –¥–ª—è –Ω–æ–≤–æ—Å—Ç–µ–π
    tavily.service.ts          # –°–µ—Ä–≤–∏—Å –¥–ª—è –≥–ª—É–±–æ–∫–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞
```

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

```bash
# –ó–∞–ø—É—Å–∫ AI –±–æ—Ç–∞
npm run start:ai

# –¢–µ—Å—Ç AI —Ñ–∏–ª—å—Ç—Ä–∞
ts-node src/test/test-ai-filter.ts
```

---

## üìù –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

- **SerpAPI**: –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –Ω–∞ [serpapi.com](https://serpapi.com)
- **Tavily**: –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –Ω–∞ [tavily.com](https://tavily.com) - [tavily-integration.md](tavily-integration.md)
- **–ü–æ–¥—Ö–æ–¥ Poly-Trader**: –í–¥–æ—Ö–Ω–æ–≤–µ–Ω–∏–µ –¥–ª—è AI –∞–Ω–∞–ª–∏–∑–∞ —Ä—ã–Ω–∫–æ–≤
- **OpenAI API**: –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –Ω–∞ [platform.openai.com](https://platform.openai.com)
- **Gemini API**: –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –Ω–∞ [ai.google.dev](https://ai.google.dev)

