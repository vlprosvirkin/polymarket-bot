# Tavily Integration - –£—Å–∏–ª–µ–Ω–∏–µ AI –∞–Ω–∞–ª–∏–∑–∞

## üéØ –ß—Ç–æ —Ç–∞–∫–æ–µ Tavily?

**Tavily** - —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–æ–∏—Å–∫–æ–≤—ã–π API, —Å–æ–∑–¥–∞–Ω–Ω—ã–π —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ –¥–ª—è AI-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π –∏ LLM. –û–Ω –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ, –∞–∫—Ç—É–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∏–∑ –Ω–∞–¥–µ–∂–Ω—ã—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤.

---

## ‚ú® –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ Tavily –Ω–∞–¥ SerpAPI

### 1. **–°–ø–µ—Ü–∏–∞–ª—å–Ω–æ –¥–ª—è AI**
- –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å LLM (OpenAI, Gemini)
- –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã, –≥–æ—Ç–æ–≤—ã–µ –¥–ª—è –ø—Ä–æ–º–ø—Ç–æ–≤
- –ú–µ–Ω—å—à–µ –ø–∞—Ä—Å–∏–Ω–≥–∞, –±–æ–ª—å—à–µ –≥–æ—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö

### 2. **–ë–æ–ª–µ–µ –∞–∫—Ç—É–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è**
- –§–æ–∫—É—Å –Ω–∞ –∞–∫—Ç—É–∞–ª—å–Ω—ã—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–∞—Ö
- –õ—É—á—à–∞—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –Ω–∞–¥–µ–∂–Ω—ã—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤
- –ú–µ–Ω—å—à–µ —à—É–º–∞ –≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞—Ö

### 3. **–°–Ω–∏–∂–µ–Ω–∏–µ –≥–∞–ª–ª—é—Ü–∏–Ω–∞—Ü–∏–π**
- –ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –¥–∞–Ω–Ω—ã–µ, –∞ –Ω–µ —Ç–æ–ª—å–∫–æ —Å—Å—ã–ª–∫–∏
- AI –ø–æ–ª—É—á–∞–µ—Ç –≥–æ—Ç–æ–≤—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç
- –ú–µ–Ω—å—à–µ —Ä–∏—Å–∫ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–π –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏–∏

### 4. **–£–º–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã**
- –ü–æ–º–æ–≥–∞–µ—Ç AI —Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–∞—Ç—å —É—Ç–æ—á–Ω—è—é—â–∏–µ –≤–æ–ø—Ä–æ—Å—ã
- –ì–ª—É–±–æ–∫–∏–π –∞–Ω–∞–ª–∏–∑ —Ç–µ–º
- –õ—É—á—à–µ–µ –ø–æ–Ω–∏–º–∞–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞

---

## üîÑ –ö–∞–∫ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –≤ –Ω–∞—à –ø—Ä–æ–µ–∫—Ç

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ó–∞–º–µ–Ω–∞ SerpAPI –Ω–∞ Tavily

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- –û–¥–∏–Ω —Å–µ—Ä–≤–∏—Å –≤–º–µ—Å—Ç–æ –¥–≤—É—Ö
- –õ—É—á—à–µ –¥–ª—è AI –∞–Ω–∞–ª–∏–∑–∞
- –í–æ–∑–º–æ–∂–Ω–æ –¥–µ—à–µ–≤–ª–µ

**–ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏:**
- –ù—É–∂–Ω–æ –ø–µ—Ä–µ–ø–∏—Å–∞—Ç—å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é

### –í–∞—Ä–∏–∞–Ω—Ç 2: –ì–∏–±—Ä–∏–¥–Ω—ã–π –ø–æ–¥—Ö–æ–¥ (SerpAPI + Tavily)

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- SerpAPI –¥–ª—è –±–∞–∑–æ–≤–æ–≥–æ –ø–æ–∏—Å–∫–∞ –Ω–æ–≤–æ—Å—Ç–µ–π
- Tavily –¥–ª—è –≥–ª—É–±–æ–∫–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞ –≤–∞–∂–Ω—ã—Ö —Ä—ã–Ω–∫–æ–≤
- Fallback –µ—Å–ª–∏ –æ–¥–∏–Ω –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

**–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:**
- SerpAPI: –±—ã—Å—Ç—Ä—ã–π –ø–æ–∏—Å–∫ –Ω–æ–≤–æ—Å—Ç–µ–π (–ø–µ—Ä–≤–∏—á–Ω—ã–π —Ñ–∏–ª—å—Ç—Ä)
- Tavily: –≥–ª—É–±–æ–∫–∏–π –∞–Ω–∞–ª–∏–∑ —Ç–æ–ø-–∫–∞–Ω–¥–∏–¥–∞—Ç–æ–≤ (–¥–µ—Ç–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑)

---

## üí° –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π –ø–æ–¥—Ö–æ–¥: –ì–∏–±—Ä–∏–¥–Ω—ã–π

```
–†—ã–Ω–æ–∫ ‚Üí –ë–∞–∑–æ–≤–∞—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è
  ‚Üì
SerpAPI: –ë—ã—Å—Ç—Ä—ã–π –ø–æ–∏—Å–∫ –Ω–æ–≤–æ—Å—Ç–µ–π (5 —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤)
  ‚Üì
–ï—Å–ª–∏ —Ä—ã–Ω–æ–∫ –≤ —Ç–æ–ø-10 ‚Üí Tavily: –ì–ª—É–±–æ–∫–∏–π –∞–Ω–∞–ª–∏–∑
  ‚Üì
AI –ø–æ–ª—É—á–∞–µ—Ç:
  - –ù–æ–≤–æ—Å—Ç–∏ (SerpAPI)
  - –î–µ—Ç–∞–ª—å–Ω—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç (Tavily)
  - –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
```

### –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:

1. **–≠–∫–æ–Ω–æ–º–∏—è:** SerpAPI –¥–µ—à–µ–≤–ª–µ –¥–ª—è –º–∞—Å—Å–æ–≤–æ–≥–æ –ø–æ–∏—Å–∫–∞
2. **–ö–∞—á–µ—Å—Ç–≤–æ:** Tavily –¥–ª—è –≤–∞–∂–Ω—ã—Ö —Ä—ã–Ω–∫–æ–≤
3. **–ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å:** Fallback –µ—Å–ª–∏ –æ–¥–∏–Ω —Å–µ—Ä–≤–∏—Å –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω
4. **–ì–∏–±–∫–æ—Å—Ç—å:** –ú–æ–∂–Ω–æ –æ—Ç–∫–ª—é—á–∏—Ç—å –æ–¥–∏–Ω –∏–∑ –Ω–∏—Ö

---

## üìä –°—Ä–∞–≤–Ω–µ–Ω–∏–µ

| –ü–∞—Ä–∞–º–µ—Ç—Ä | SerpAPI | Tavily |
|----------|---------|--------|
| **–°–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è** | –û–±—â–∏–π –ø–æ–∏—Å–∫ | AI/LLM –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω |
| **–†–µ–∑—É–ª—å—Ç–∞—Ç—ã** | –ù–æ–≤–æ—Å—Ç–∏ + —Å—Å—ã–ª–∫–∏ | –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ |
| **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å AI** | –•–æ—Ä–æ—à–∞—è | –û—Ç–ª–∏—á–Ω–∞—è |
| **–°—Ç–æ–∏–º–æ—Å—Ç—å** | $50/5k –∑–∞–ø—Ä–æ—Å–æ–≤ | –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∞–∫—Ç—É–∞–ª—å–Ω—É—é |
| **–°–∫–æ—Ä–æ—Å—Ç—å** | –ë—ã—Å—Ç—Ä–æ | –ë—ã—Å—Ç—Ä–æ |
| **–¢–æ—á–Ω–æ—Å—Ç—å** | –•–æ—Ä–æ—à–∞—è | –í—ã—à–µ (–º–µ–Ω—å—à–µ —à—É–º–∞) |

---

## üîß –†–µ–∞–ª–∏–∑–∞—Ü–∏—è

### 1. –°–æ–∑–¥–∞—Ç—å `TavilyService`

```typescript
export class TavilyService {
    async search(query: string, options?: {
        maxResults?: number;
        includeAnswer?: boolean;
        searchDepth?: 'basic' | 'advanced';
    }): Promise<{
        results: Array<{
            title: string;
            url: string;
            content: string;
            score: number;
        }>;
        answer?: string;  // –ì–æ—Ç–æ–≤—ã–π –æ—Ç–≤–µ—Ç –æ—Ç Tavily
    }>;
}
```

### 2. –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –≤ `AIMarketFilter`

```typescript
// –î–ª—è —Ç–æ–ø-–∫–∞–Ω–¥–∏–¥–∞—Ç–æ–≤ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Tavily
if (market.attractiveness > 0.8) {
    const tavilyData = await tavilyService.search(market.question, {
        maxResults: 10,
        includeAnswer: true,
        searchDepth: 'advanced'
    });
    
    // –î–æ–±–∞–≤–∏—Ç—å –≤ –ø—Ä–æ–º–ø—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
}
```

### 3. –û–±–Ω–æ–≤–∏—Ç—å –ø—Ä–æ–º–ø—Ç

```
**Recent News (SerpAPI):**
1. News title...

**Deep Analysis (Tavily):**
Context: [structured data]
Key insights: [from Tavily answer]
```

---

## üí∞ –°—Ç–æ–∏–º–æ—Å—Ç—å

**Tavily:** (–ø—Ä–æ–≤–µ—Ä–∏—Ç—å –∞–∫—Ç—É–∞–ª—å–Ω—É—é –Ω–∞ tavily.com)
- Free tier: –æ–±—ã—á–Ω–æ –µ—Å—Ç—å
- Pro: –æ—Ç $20-50/–º–µ—Å—è—Ü

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:**
- SerpAPI –¥–ª—è –≤—Å–µ—Ö —Ä—ã–Ω–∫–æ–≤ (–±—ã—Å—Ç—Ä–æ, –¥–µ—à–µ–≤–æ)
- Tavily –¥–ª—è —Ç–æ–ø-5 —Ä—ã–Ω–∫–æ–≤ –≤ —Ü–∏–∫–ª–µ (–¥–µ—Ç–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑)

---

## ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞

```bash
# –ü–æ–ª—É—á–∏—Ç–µ –∫–ª—é—á –Ω–∞ tavily.com –∏ –¥–æ–±–∞–≤—å—Ç–µ –≤ .env:
TAVILY_API_KEY=your_tavily_api_key_here
```

**–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è:**
- Tavily –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–ª—è —Ä—ã–Ω–∫–æ–≤ —Å attractiveness >= 0.75
- –ï—Å–ª–∏ –∫–ª—é—á –Ω–µ —É–∫–∞–∑–∞–Ω, —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ SerpAPI (–±–µ–∑ Tavily)
- Fallback –Ω–∞ SerpAPI –µ—Å–ª–∏ Tavily –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω

## üöÄ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

1. ‚úÖ –°–æ–∑–¥–∞–Ω `TavilyService` (`src/services/tavily.service.ts`)
2. ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω –≤ `AIMarketFilter` (–≥–∏–±—Ä–∏–¥–Ω—ã–π —Ä–µ–∂–∏–º)
3. ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –≤ `src/core/config.ts`
4. ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω—ã –ø—Ä–æ–º–ø—Ç—ã –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è Tavily –¥–∞–Ω–Ω—ã—Ö
5. ‚úÖ –°–æ–∑–¥–∞–Ω —Ç–µ—Å—Ç–æ–≤—ã–π —Ñ–∞–π–ª (`src/test/test-tavily.ts`)

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

```bash
# –¢–µ—Å—Ç Tavily –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
ts-node src/test/test-tavily.ts

# –¢–µ—Å—Ç AI —Ñ–∏–ª—å—Ç—Ä–∞ (–≤–∫–ª—é—á–∞–µ—Ç Tavily –¥–ª—è —Ç–æ–ø-—Ä—ã–Ω–∫–æ–≤)
ts-node src/test/test-ai-filter.ts
```

## üìä –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å–µ–π—á–∞—Å

```
–†—ã–Ω–æ–∫ ‚Üí –ë–∞–∑–æ–≤–∞—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è
  ‚Üì
SerpAPI: –ë—ã—Å—Ç—Ä—ã–π –ø–æ–∏—Å–∫ –Ω–æ–≤–æ—Å—Ç–µ–π (–≤—Å–µ —Ä—ã–Ω–∫–∏)
  ‚Üì
–ï—Å–ª–∏ attractiveness >= 0.75 ‚Üí Tavily: –ì–ª—É–±–æ–∫–∏–π –∞–Ω–∞–ª–∏–∑ (—Ç–æ–ø-—Ä—ã–Ω–∫–∏)
  ‚Üì
AI –ø–æ–ª—É—á–∞–µ—Ç:
  - –ù–æ–≤–æ—Å—Ç–∏ (SerpAPI) - –≤—Å–µ —Ä—ã–Ω–∫–∏
  - –î–µ—Ç–∞–ª—å–Ω—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç (Tavily) - —Ç–æ–ª—å–∫–æ —Ç–æ–ø-—Ä—ã–Ω–∫–∏
  - –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∏–∑ 10+ –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤
```

**–ò—Ç–æ–≥:** Tavily —É—Å–∏–ª—è–µ—Ç –∞–Ω–∞–ª–∏–∑ –≤–∞–∂–Ω—ã—Ö —Ä—ã–Ω–∫–æ–≤, –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—è AI –±–æ–ª–µ–µ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—É—é –∏ –∞–∫—Ç—É–∞–ª—å–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é. –ì–∏–±—Ä–∏–¥–Ω—ã–π –ø–æ–¥—Ö–æ–¥ (SerpAPI + Tavily) –¥–∞–µ—Ç –ª—É—á—à–µ–µ —Å–æ—á–µ—Ç–∞–Ω–∏–µ —Å–∫–æ—Ä–æ—Å—Ç–∏, —Å—Ç–æ–∏–º–æ—Å—Ç–∏ –∏ –∫–∞—á–µ—Å—Ç–≤–∞.

